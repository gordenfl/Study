# Cache

## 缓存击穿

当一个数据在缓存中失效的时候,大量的请求会去访问数据库,导致数据库崩溃.

解决这个的办法是:当一个数据失效的时候,第一个去数据库获取数据的人先创建一个互斥锁, 这个互斥锁执行的时候就别的请求就会等待, 然后等获取到数据以后就直接放到缓存,这样对数据库压力最小

## 缓存雪崩

当一个数据集同时放入缓存的缓存失效也是同时的,这样在失效的时候,会导致数据库有大量的访问,这个时候会让数据库崩溃.

解决这个的办法就是: 缓存的失效时间随机区定义, 这样会导致数据库不会在同一时间有大量的访问.

## 缓存穿透

当很多请求,都是请求数据库中并没有的数据,这些数据在缓存中也没有,就会导致数据库有大量的访问请求,这种情况会让数据库崩溃.基本上是恶意进行的.

解决的办法是:缓存中放置空对象, 数据库中不存在的数据也缓存一个空结果. 使用布隆过滤器, 先用这个过滤器判断数据是否存在以后再去访问数据库. 另外在前端或者接口层面校验,过滤掉非法请求. 还有一个就是接口限流,限制接口访问的频率.

